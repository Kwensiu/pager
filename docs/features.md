# 功能详解

本文档详细介绍了 Pager 的所有功能和使用方法。

## 📋 目录

- [侧边栏管理](#侧边栏管理)
- [网站浏览功能](#网站浏览功能)
- [设置与配置](#设置与配置)
- [扩展管理](#扩展管理)
- [增强功能](#增强功能)
- [窗口管理](#窗口管理)
- [版本管理](#版本管理)
- [开发者工具](#开发者工具)
- [隐私与安全](#隐私与安全)

---

## 侧边栏管理

### 分类和分组系统

Pager 使用两级组织结构来管理网站：

#### 一级分类

- **用途**：用于组织不同类型的网站（如"工作"、"娱乐"、"学习"）
- **特点**：
  - 每个分类可以包含多个二级分组
  - 分类在侧边栏中显示为可折叠的顶级项目
  - 支持拖拽排序

#### 二级分组

- **用途**：在分类下组织相关网站
- **示例**：在"工作"分类下可以有"开发工具"、"项目管理"等分组
- **特点**：
  - 分组可以拖拽排序
  - 支持跨分类移动
  - 可以包含多个网站

#### 网站项目

- **用途**：实际访问的网站
- **包含信息**：
  - 网站名称
  - URL
  - 图标（自动获取）
  - 可选描述
- **特点**：
  - 支持拖拽到不同分组
  - 支持跨分组移动

### 拖拽排序

Pager 提供了完整的拖拽排序功能：

| 操作           | 说明                     |
| -------------- | ------------------------ |
| **分类排序**   | 拖拽分类标题调整顺序     |
| **分组排序**   | 在分类内拖拽分组调整顺序 |
| **网站排序**   | 在分组内拖拽网站调整顺序 |
| **跨分组移动** | 将网站拖拽到其他分组     |
| **跨分类移动** | 将分组拖拽到其他分类     |

### 右键菜单

#### 分类右键菜单

- **添加分组**：在当前分类下创建新分组
- **重命名**：修改分类名称
- **删除**：删除分类及其所有内容

#### 分组右键菜单

- **添加网站**：在当前分组中添加新网站
- **重命名**：修改分组名称
- **删除**：删除分组及其所有网站

#### 网站右键菜单

- **编辑**：修改网站信息（名称、URL、图标）
- **删除**：删除网站
- **在新标签页打开**：在新的标签页中打开网站
- **复制 URL**：复制网站 URL 到剪贴板

### 搜索功能

- **实时搜索**：输入关键词即时显示匹配结果
- **搜索范围**：搜索网站名称和 URL
- **高亮显示**：匹配的关键词会高亮显示

---

## 网站浏览功能

### 多标签页支持

Pager 提供完整的多标签页浏览体验：

#### 标签页功能

- **新建标签页**：点击标签页栏右侧的 "+" 按钮
- **关闭标签页**：点击标签页上的 "×" 按钮
- **切换标签页**：点击标签页标题
- **拖拽排序**：拖拽标签页重新排序
- **标签页预览**：鼠标悬停显示页面预览（未来版本）

#### 标签页快捷键

| 快捷键                   | 功能               |
| ------------------------ | ------------------ |
| `Ctrl/Cmd + T`           | 新建标签页         |
| `Ctrl/Cmd + W`           | 关闭当前标签页     |
| `Ctrl/Cmd + Tab`         | 切换到下一个标签页 |
| `Ctrl/Cmd + Shift + Tab` | 切换到上一个标签页 |

### 网站图标管理

#### 自动获取

- 添加网站时自动从 URL 获取 favicon
- 支持多种图标格式（ICO、PNG、SVG 等）
- 智能回退机制，确保总能显示图标

#### 手动刷新

1. 右键点击网站
2. 选择"编辑"
3. 点击图标旁边的刷新按钮

#### 默认图标

- 无法获取图标时使用默认图标
- 默认图标根据网站 URL 自动生成

#### 图标缓存

- 图标本地缓存，减少网络请求
- 自动清理过期缓存
- 支持手动清除缓存

### 导航工具栏

标签页顶部提供完整的导航工具栏：

| 功能       | 说明               |
| ---------- | ------------------ |
| **后退**   | 返回上一个页面     |
| **前进**   | 前进到下一个页面   |
| **刷新**   | 重新加载当前页面   |
| **主页**   | 返回网站首页       |
| **地址栏** | 显示和编辑当前 URL |

#### 地址栏功能

- **显示当前 URL**：实时显示当前页面地址
- **编辑 URL**：点击地址栏可以编辑 URL
- **回车导航**：输入 URL 后按回车键导航
- **历史记录**：点击地址栏显示历史记录（未来版本）

---

## 设置与配置

### 外观设置

#### 主题模式

- **浅色主题**：明亮界面，适合白天使用
- **深色主题**：暗色界面，减少眼睛疲劳，适合夜间使用
- **跟随系统**：自动匹配系统主题设置

#### 界面语言

- **中文**：简体中文界面
- **英文**：英语界面
- **自动检测**：根据系统语言自动选择（未来版本）

#### 侧边栏显示模式

- **显示所有网站**：折叠时显示所有网站图标
- **仅显示展开的分组**：折叠时只显示展开状态的分组

### 浏览器设置

#### JavaScript 控制

- **启用 JavaScript**：允许网页执行 JavaScript
- **禁用 JavaScript**：阻止网页执行 JavaScript（提高安全性）

#### 弹出窗口控制

- **允许弹出窗口**：允许网页打开新窗口
- **阻止弹出窗口**：阻止网页打开新窗口（减少干扰）

#### 会话数据

- **保存会话数据**：保存登录状态和浏览历史
- **不保存会话数据**：关闭应用时清除所有会话数据

#### 缓存管理

- **退出时清除缓存**：关闭应用时清理临时文件
- **保留缓存**：保留缓存以提高加载速度

### 数据管理

#### 重置设置

- **重置为默认设置**：恢复所有设置为默认值
- **保留网站数据**：重置设置时保留网站和分组数据

#### 清除数据

- **清除所有数据**：删除所有网站、分组和设置
- **清除缓存**：仅清除缓存数据
- **清除会话数据**：仅清除会话和 Cookie

#### 导出/导入配置

- **导出配置**：备份当前配置到 JSON 文件
- **导入配置**：从 JSON 文件恢复配置
- **自动同步**：定期备份配置到指定位置（未来版本）

---

## 扩展管理

### 扩展支持

Pager 支持标准的 Chrome 扩展格式：

#### 支持的扩展类型

- **内容脚本**：修改网页内容的脚本
- **后台脚本**：在后台运行的脚本
- **用户界面**：浏览器操作、弹出窗口等
- **Tampermonkey 脚本**：通过 Tampermonkey 扩展支持

#### 扩展功能

- **网页修改**：修改网页外观和行为
- **功能增强**：添加新功能到网页
- **广告拦截**：拦截广告和跟踪器
- **密码管理**：自动填充密码
- **翻译工具**：网页翻译

### 扩展安装方式

#### 1. 文件夹安装

1. 打开"设置" → "扩展管理"
2. 点击"添加扩展"
3. 选择包含 `manifest.json` 的扩展文件夹
4. 扩展将自动加载

#### 2. ZIP 文件安装

1. 打开"设置" → "扩展管理"
2. 点击"添加扩展"
3. 选择扩展的 ZIP 压缩包
4. 扩展将自动解压并加载

#### 3. CRX 文件安装

1. 打开"设置" → "扩展管理"
2. 点击"添加扩展"
3. 选择 Chrome 扩展的 CRX 文件
4. 扩展将自动加载

### 扩展隔离级别

Pager 提供多级扩展隔离，平衡安全性和兼容性：

| 隔离级别     | 说明                           | 安全性     | 兼容性     |
| ------------ | ------------------------------ | ---------- | ---------- |
| **严格隔离** | 完全独立的进程和存储           | ⭐⭐⭐⭐⭐ | ⭐⭐       |
| **标准隔离** | 适度的隔离，平衡安全性和兼容性 | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   |
| **宽松隔离** | 最小隔离，最大化兼容性         | ⭐⭐⭐     | ⭐⭐⭐⭐⭐ |
| **无隔离**   | 不进行隔离（仅用于调试）       | ⭐         | ⭐⭐⭐⭐⭐ |

#### 推荐设置

- **日常使用**：标准隔离
- **高安全性需求**：严格隔离
- **兼容性问题**：宽松隔离
- **开发调试**：无隔离

### 权限管理

#### 查看权限

- 显示扩展请求的所有权限
- 权限分类显示（高风险、中风险、低风险）
- 权限说明和用途

#### 单独控制

- 为每个权限单独授权或拒绝
- 实时生效，无需重启
- 权限变更记录

#### 权限统计

- 显示高风险权限数量
- 权限使用频率统计
- 权限安全评级

#### 权限日志

- 记录权限使用情况
- 显示权限请求时间
- 显示权限授予/拒绝状态

### 扩展管理功能

#### 启用/禁用扩展

- 单独启用或禁用扩展
- 批量启用或禁用扩展
- 保留扩展数据

#### 删除扩展

- 删除扩展及其数据
- 保留扩展配置（可选）
- 恢复默认设置

#### 扩展更新

- 检查扩展更新
- 自动更新扩展（未来版本）
- 手动更新扩展

#### 扩展错误管理

- 显示扩展错误信息
- 错误日志记录
- 错误报告功能

---

## 增强功能

### 浏览器指纹伪装

#### 功能目的

防止网站通过浏览器指纹追踪用户，保护隐私。

#### 伪装模式

| 模式         | 说明                                       | 隐私保护   | 兼容性     |
| ------------ | ------------------------------------------ | ---------- | ---------- |
| **基础模式** | 修改基本指纹信息（用户代理、屏幕分辨率等） | ⭐⭐⭐     | ⭐⭐⭐⭐⭐ |
| **平衡模式** | 修改更多指纹信息，保持较好的网站兼容性     | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   |
| **高级模式** | 全面修改指纹信息，提供最大隐私保护         | ⭐⭐⭐⭐⭐ | ⭐⭐⭐     |

#### 伪装的指纹信息

- **用户代理**：模拟不同的浏览器和操作系统
- **屏幕分辨率**：修改屏幕分辨率信息
- **时区**：修改时区信息
- **语言**：修改浏览器语言
- **字体列表**：修改可用字体列表
- **Canvas 指纹**：修改 Canvas 渲染指纹
- **WebGL 指纹**：修改 WebGL 渲染指纹
- **音频指纹**：修改音频处理指纹

#### 网站特定设置

- 可以为特定网站启用或禁用指纹伪装
- 支持白名单和黑名单
- 自定义网站指纹配置

### 全局快捷键

#### 默认快捷键

| 快捷键                | 功能            |
| --------------------- | --------------- |
| `Alt/Cmd + Shift + T` | 切换窗口置顶    |
| `Alt/Cmd + Shift + M` | 切换小窗模式    |
| `Alt/Cmd + Shift + S` | 显示/隐藏侧边栏 |
| `Ctrl/Cmd + T`        | 新建标签页      |
| `Ctrl/Cmd + W`        | 关闭标签页      |

#### 自定义快捷键

- 在设置中自定义快捷键
- 支持组合键和功能键
- 快捷键冲突检测

### 系统托盘

#### 托盘图标

- 在系统托盘显示 Pager 图标
- 显示应用程序状态
- 显示未读通知数量（未来版本）

#### 快捷菜单

右键点击托盘图标显示快捷菜单：

- **显示/隐藏窗口**：显示或隐藏主窗口
- **新建标签页**：快速新建标签页
- **设置**：打开设置对话框
- **退出**：退出应用程序

#### 通知

- 显示应用程序通知
- 更新通知
- 错误通知

#### 最小化到托盘

- 关闭窗口时最小化到托盘
- 双击托盘图标恢复窗口
- 启动时最小化到托盘（可选）

### 内存优化

#### 自动清理机制

| 设置               | 说明                           |
| ------------------ | ------------------------------ |
| **清理间隔**       | 设置自动清理的时间间隔（分钟） |
| **最大不活跃时间** | 网站不活跃多长时间后清理       |
| **内存阈值**       | 当内存使用超过阈值时触发清理   |

#### 清理效果

- 释放不活跃网站的内存
- 保持应用程序响应速度
- 减少系统资源占用
- 延长电池续航（笔记本电脑）

#### 手动清理

- 一键清理所有不活跃网站
- 清理特定网站的内存
- 查看内存使用情况

### 数据同步

#### 配置同步

- **导出配置**：将当前设置导出为 JSON 文件
- **导入配置**：从 JSON 文件恢复设置
- **自动同步**：定期备份配置到指定位置（未来版本）
- **云端同步**：同步到云端（未来版本）

#### Cookie 同步

- **导出 Cookie**：导出所有网站的 Cookie 数据
- **导入 Cookie**：从文件导入 Cookie 数据
- **会话保持**：保持登录状态
- **选择性同步**：选择特定网站同步（未来版本）

#### 同步设置

- 设置同步间隔
- 选择同步位置
- 加密同步数据（未来版本）

### 自动启动

#### 开机启动

- 系统启动时自动运行 Pager
- 延迟启动（可选）
- 最小化启动（可选）

#### 启动参数

- 配置启动时的参数
- 打开特定网站
- 恢复上次会话

### JS 代码注入

#### 自定义脚本

- 向特定网站注入 JavaScript 代码
- 支持多个脚本
- 脚本优先级设置

#### 脚本管理

- 添加/编辑/删除脚本
- 启用/禁用脚本
- 脚本测试功能

#### 条件触发

- 基于 URL 模式触发脚本
- 支持通配符和正则表达式
- 脚本执行顺序

#### 脚本示例

```javascript
// 示例：修改网页背景色
document.body.style.backgroundColor = '#f0f0f0'

// 示例：隐藏特定元素
document.querySelector('.ad-banner').style.display = 'none'

// 示例：添加自定义按钮
const button = document.createElement('button')
button.textContent = '自定义按钮'
document.body.appendChild(button)
```

### 代理支持

#### 代理配置

- **HTTP 代理**：设置 HTTP 代理服务器
- **HTTPS 代理**：设置 HTTPS 代理服务器
- **SOCKS 代理**：设置 SOCKS 代理服务器
- **代理认证**：支持用户名和密码认证

#### 代理规则

- 基于 URL 模式的代理规则
- 支持通配符和正则表达式
- 规则优先级设置

#### 连接测试

- 测试代理连接是否正常
- 显示代理响应时间
- 代理状态监控

---

## 窗口管理

### 窗口模式

| 模式         | 说明                     |
| ------------ | ------------------------ |
| **正常模式** | 标准窗口大小             |
| **小窗模式** | 紧凑窗口，适合多任务处理 |
| **全屏模式** | 全屏显示当前网站         |

### 窗口操作

#### 置顶窗口

- 窗口始终显示在最前面
- 快捷键：`Alt/Cmd + Shift + T`
- 适合参考其他内容时使用

#### 边缘吸附

- 窗口靠近屏幕边缘时自动吸附
- 支持四角和四边吸附
- 快速调整窗口位置

#### 窗口分割

- 支持多窗口并排显示
- 快捷键：`Alt/Cmd + Shift + D`（未来版本）
- 自定义分割比例

### 窗口状态

#### 最小化

- 最小化到任务栏或托盘
- 快捷键：`Alt/Cmd + M`（未来版本）
- 保留窗口状态

#### 最大化

- 最大化窗口
- 快捷键：`Alt/Cmd + ↑`（未来版本）
- 占满整个屏幕

#### 恢复

- 恢复到之前的大小和位置
- 快捷键：`Alt/Cmd + ↓`（未来版本）
- 记住窗口状态

---

## 版本管理

### 自动更新

#### 检查更新

- 自动检查新版本
- 启动时检查（可选）
- 定期检查（可选）

#### 下载更新

- 自动下载更新包
- 显示下载进度
- 后台下载

#### 安装更新

- 提示用户安装更新
- 自动安装并重启
- 保留用户数据

### 版本信息

显示以下版本信息：

- **应用程序版本**：当前 Pager 版本号
- **Electron 版本**：底层框架版本
- **Chromium 版本**：浏览器引擎版本
- **Node.js 版本**：运行时版本

---

## 开发者工具

### 调试功能

#### 开发者工具

- 打开 Chromium 开发者工具
- 快捷键：`F12` 或 `Ctrl/Cmd + Shift + I`
- 完整的调试功能

#### 控制台日志

- 查看应用程序日志
- 过滤日志级别
- 导出日志

#### 网络监控

- 监控网络请求
- 查看请求/响应
- 性能分析

### 诊断工具

#### 内存使用

- 显示内存使用情况
- 内存泄漏检测
- 内存快照

#### 进程信息

- 显示所有进程状态
- CPU 使用率
- 进程树

#### 性能分析

- 性能分析工具
- 帧率监控
- 渲染性能

---

## 隐私与安全

### 数据保护

#### 本地存储

- 所有数据存储在本地
- 不上传到云端（除非启用同步）
- 数据加密存储（未来版本）

#### 加密选项

- 敏感数据的加密存储
- 主密码保护（未来版本）
- 自动锁定（未来版本）

#### 数据清理

- 彻底删除数据的功能
- 安全删除（多次覆写）
- 清除痕迹

### 安全功能

#### 扩展沙箱

- 扩展在隔离环境中运行
- 限制扩展权限
- 防止扩展滥用

#### 权限控制

- 精细的权限管理系统
- 权限审计日志
- 权限变更通知

#### 安全审计

- 安全事件日志记录
- 异常行为检测
- 安全报告（未来版本）

---

## 获取帮助

如果您在使用 Pager 功能时遇到问题：

1. 查看[快速开始指南](quickstart.md)
2. 查看[常见问题](README.md#常见问题)
3. 在 [GitHub Issues](https://github.com/Kwensiu/Pager/issues) 搜索类似问题
4. 提交新的 Issue，包含：
   - 功能名称
   - 详细的操作步骤
   - 预期行为
   - 实际行为
   - 相关的截图或日志

---

**提示**：Pager 目前处于早期测试阶段，部分功能可能仍在开发中。建议定期查看最新文档和更新日志。
